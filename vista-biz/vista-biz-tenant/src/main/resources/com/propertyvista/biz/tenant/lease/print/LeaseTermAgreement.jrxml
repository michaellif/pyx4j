<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="LeaseTermAgreement" pageWidth="612" pageHeight="792" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="landlordName" class="java.lang.String"/>
	<parameter name="landlordAddress" class="java.lang.String"/>
	<parameter name="landlordLogo" class="java.io.InputStream"/>
	<parameter name="applicants" class="com.pyx4j.entity.core.IList"/>
	<field name="body" class="java.lang.String"/>
	<field name="title" class="java.lang.String"/>
	<field name="signatures" class="com.pyx4j.entity.core.IList"/>
	<field name="signaturePlaceholders" class="com.pyx4j.entity.core.IList"/>
	<variable name="TERM_NUMBER" class="java.lang.Integer" calculation="Count">
		<variableExpression><![CDATA[$F{title}]]></variableExpression>
		<initialValueExpression><![CDATA[1]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="239" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="106" width="131" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="SansSerif" isBold="true"/>
					<paragraph spacingAfter="5"/>
				</textElement>
				<text><![CDATA[Address of Landlord:]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement x="142" y="106" width="430" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{landlordAddress}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="66" width="131" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" isBold="true"/>
					<paragraph spacingAfter="5"/>
				</textElement>
				<text><![CDATA[BETWEEN:]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement x="142" y="86" width="430" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{landlordName}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="35" width="286" height="31"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[Residential Tenancy Agreement]]></text>
			</staticText>
			<image scaleImage="RetainShape" hAlign="Right" vAlign="Top">
				<reportElement x="286" y="0" width="286" height="66"/>
				<imageExpression><![CDATA[$P{landlordLogo}]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="144" y="126" width="410" height="72"/>
				<textElement textAlignment="Justified" verticalAlignment="Top"/>
				<text><![CDATA[NOTE: This is the legal name and address of the Landlord to be used for the purpose of giving notices or other documents under applicable provincial legislation and this Agreement. The Tenant acknowledges the name and address of the Landlord are subject to change and in such event, the Tenant agrees to direct notices accordingly to the new Landlord.]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="86" width="131" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="SansSerif" isBold="true" isUnderline="true"/>
					<paragraph spacingAfter="5"/>
				</textElement>
				<text><![CDATA[Landlord:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="198" width="131" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" isBold="true"/>
					<paragraph spacingAfter="5"/>
				</textElement>
				<text><![CDATA[AND]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="218" width="131" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="SansSerif" isBold="true" isUnderline="true"/>
					<paragraph spacingAfter="5"/>
				</textElement>
				<text><![CDATA[Tenant(s):]]></text>
			</staticText>
			<subreport>
				<reportElement x="142" y="218" width="430" height="20"/>
				<dataSourceExpression><![CDATA[new com.pyx4j.entity.report.JRIEntityCollectionDataSource($P{applicants})]]></dataSourceExpression>
				<subreportExpression><![CDATA[com.pyx4j.entity.report.JasperReportFactory.create("com.propertyvista.biz.tenant.lease.print.LeaseTermTenants")]]></subreportExpression>
			</subreport>
		</band>
	</title>
	<detail>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true">
				<reportElement x="144" y="0" width="428" height="20"/>
				<textElement markup="html"/>
				<textFieldExpression><![CDATA[$F{body}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="0" y="0" width="104" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{title}]]></textFieldExpression>
			</textField>
			<textField pattern="">
				<reportElement x="104" y="0" width="40" height="20"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$V{TERM_NUMBER}.toString() + "."]]></textFieldExpression>
			</textField>
		</band>
		<band height="25" splitType="Stretch">
			<printWhenExpression><![CDATA[!$F{signatures}.isEmpty() || !$F{signaturePlaceholders}.isEmpty()]]></printWhenExpression>
			<textField isStretchWithOverflow="true">
				<reportElement x="104" y="0" width="450" height="25" backcolor="#CCCCCC"/>
				<textElement verticalAlignment="Bottom">
					<font fontName="SansSerif" isBold="true" isUnderline="true"/>
					<paragraph spacingAfter="5"/>
				</textElement>
				<textFieldExpression><![CDATA["Signatures:"]]></textFieldExpression>
			</textField>
		</band>
		<band height="1" splitType="Stretch">
			<subreport>
				<reportElement x="104" y="0" width="468" height="1"/>
				<dataSourceExpression><![CDATA[new com.pyx4j.entity.report.JRIEntityCollectionDataSource($F{signatures})]]></dataSourceExpression>
				<subreportExpression><![CDATA[com.pyx4j.entity.report.JasperReportFactory.create("com.propertyvista.biz.tenant.lease.print.LeaseTermSignatures")]]></subreportExpression>
			</subreport>
		</band>
		<band height="1" splitType="Stretch">
			<subreport>
				<reportElement x="104" y="0" width="468" height="1"/>
				<dataSourceExpression><![CDATA[new com.pyx4j.entity.report.JRIEntityCollectionDataSource($F{signaturePlaceholders})]]></dataSourceExpression>
				<subreportExpression><![CDATA[com.pyx4j.entity.report.JasperReportFactory.create("com.propertyvista.biz.tenant.lease.print.LeaseTermSignaturePlaceholders")]]></subreportExpression>
			</subreport>
		</band>
	</detail>
</jasperReport>
