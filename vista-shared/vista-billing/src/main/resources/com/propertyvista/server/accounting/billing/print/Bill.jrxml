<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Bill1" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" scriptletClass="com.propertyvista.server.accounting.billing.print.BillPrintScriptlet">
	<property name="ireport.zoom" value="2.1435888100000056"/>
	<property name="ireport.x" value="64"/>
	<property name="ireport.y" value="146"/>
	<field name="bill" class="com.propertyvista.domain.financial.billing.Bill"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="61" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement x="455" y="20" width="100" height="10"/>
				<textElement verticalAlignment="Middle">
					<font size="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{bill}.billSequenceNumber().getValue()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="394" y="10" width="61" height="10"/>
				<textElement verticalAlignment="Middle">
					<font size="6"/>
				</textElement>
				<text><![CDATA[Account Number:]]></text>
			</staticText>
			<staticText>
				<reportElement x="394" y="20" width="61" height="10"/>
				<textElement verticalAlignment="Middle">
					<font size="6"/>
				</textElement>
				<text><![CDATA[Invoice Number:]]></text>
			</staticText>
			<staticText>
				<reportElement x="394" y="30" width="61" height="10"/>
				<textElement verticalAlignment="Middle">
					<font size="6"/>
				</textElement>
				<text><![CDATA[Invoice Date:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="455" y="30" width="100" height="10"/>
				<textElement verticalAlignment="Middle">
					<font size="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{REPORT_SCRIPTLET}.formatDate($F{bill}.billingRun().executionDate().getValue())]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="455" y="10" width="100" height="10"/>
				<textElement verticalAlignment="Middle">
					<font size="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{bill}.billSequenceNumber().getValue()]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="455" y="40" width="100" height="10"/>
				<textElement verticalAlignment="Middle">
					<font size="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{REPORT_SCRIPTLET}.formatDate($F{bill}.billingPeriodStartDate().getValue())]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="394" y="40" width="61" height="10"/>
				<textElement verticalAlignment="Middle">
					<font size="6"/>
				</textElement>
				<text><![CDATA[Due Date:]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="49">
			<rectangle>
				<reportElement stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="1" width="422" height="45" isPrintWhenDetailOverflows="true" forecolor="#FEFEFE" backcolor="#F8F8F8"/>
			</rectangle>
			<subreport isUsingCache="true">
				<reportElement x="11" y="7" width="400" height="34"/>
				<dataSourceExpression><![CDATA[new com.pyx4j.entity.report.JRIEntityCollectionDataSource($F{bill})]]></dataSourceExpression>
				<subreportExpression><![CDATA[com.pyx4j.entity.report.JasperReportFactory.create("com.propertyvista.server.accounting.billing.print.BillSummary")]]></subreportExpression>
			</subreport>
		</band>
		<band height="50">
			<break>
				<reportElement x="0" y="0" width="100" height="1"/>
			</break>
			<rectangle>
				<reportElement stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="3" width="422" height="45" isPrintWhenDetailOverflows="true" forecolor="#FEFEFE" backcolor="#F8F8F8"/>
			</rectangle>
			<subreport isUsingCache="true">
				<reportElement x="11" y="8" width="400" height="34"/>
				<dataSourceExpression><![CDATA[new com.pyx4j.entity.report.JRIEntityCollectionDataSource($F{bill})]]></dataSourceExpression>
				<subreportExpression><![CDATA[com.pyx4j.entity.report.JasperReportFactory.create("com.propertyvista.server.accounting.billing.print.LastBillDetails")]]></subreportExpression>
			</subreport>
		</band>
		<band height="50">
			<break>
				<reportElement x="0" y="0" width="100" height="1"/>
			</break>
			<rectangle>
				<reportElement stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="2" width="422" height="45" isPrintWhenDetailOverflows="true" forecolor="#FEFEFE" backcolor="#F8F8F8"/>
			</rectangle>
			<subreport isUsingCache="true">
				<reportElement x="11" y="9" width="400" height="34"/>
				<dataSourceExpression><![CDATA[new com.pyx4j.entity.report.JRIEntityCollectionDataSource($F{bill})]]></dataSourceExpression>
				<subreportExpression><![CDATA[com.pyx4j.entity.report.JasperReportFactory.create("com.propertyvista.server.accounting.billing.print.CurrentBillDetails")]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<pageFooter>
		<band height="29" splitType="Stretch">
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="false">
				<reportElement key="textField-34" mode="Transparent" x="299" y="3" width="82" height="20" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Bottom" rotation="None">
					<font fontName="SansSerif" size="6" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField-33" mode="Transparent" x="174" y="3" width="125" height="20" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Bottom" rotation="None">
					<font fontName="SansSerif" size="6" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER} + " of "]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
