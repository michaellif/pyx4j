# @version $Revision$ ($Author$) $Date$

VISTA-1997 21/09/2012  vlad
    feature ->  product
    feature_v -> product_v
    service  ->  product
    service_v  -> product_v
    service_v$features - >  product_v$features
    service_v$concessions -> product_v$concessions

    Add FK   product_item_product_fk

    Migration Notes:
        You need to mere IDs from two tables to one (feature & service -> product) and (feature_v & service_v -> product_v).
        Only one additional table product_item.product  used to reference to  service  or feature  so only one table to update.

VISTA-2007 24/09/2012 12:25:52 vlads
update : personal_income.income_source
    unemployment -> unemployed
    odsp -> disabilitySupport

??? Thereare structural changes:  Now table below a in one table IncomeInfo
IncomeInfoEmployer
IncomeInfoSeasonallyEmployed
IncomeInfoSelfEmployed
IncomeInfoSocialServices
IncomeInfoOther
IncomeInfoStudentIncome

VISTA-1121 24/09/2012 14:51:45  vlads
    add card_obfuscated_number and account_no_obfuscated_number to payment_PaymentDetails
    set card_obfuscated_number = "XXXXXXXXX" + reference  for  payment_PaymentDetails where iddiscrimator = "CreditCard"
    set account_no_obfuscated_number = "XXXXXX" + reference where iddiscrimator = "EcheckInfo"

VISTA-1964,VISTA-1922 	27/09/2012 22:59:12  vlads

    tenant -> Lease_Participant
    guarantor -> Lease_Participant
    new table lease_customer

    Migration Notes:
        You need to mere IDs from two tables to one (tenant & guarantor -> Lease_Participant)
        move participantId and customer from  old tenant & guarantor to Lease_Customer
        move preauthorizedPayment from tenant to LeaseCustomer.preauthorizedPayment

    remove table lease_participant$_maintenance_requests (it was not used)
    rename MaintenanceRequest.tenant -> leaseCustomer
    change MaintenanceRequest.tenant FK to point to LeaseCustomer


VISTA-2023 28/09/2012  michael
Use IPersonalIdentity instead TokenizedAccountNumber, TokenizedCreditCardNumber


VISTA-478 11/10/2012  vlads
   Not final! Work in progress: Changes to BackgroundCheckPolicy, BackgroundCheckPolicyV, PersonCreditCheck
   rm: EquifaxApproval, EquifaxResult


VISTA-1709 14/10/2012 vlads
    Add missing indexes in _admin_

CREATE UNIQUE INDEX admin_pmc_equifax_info_pmc_idx ON admin_pmc_equifax_info (pmc);
CREATE UNIQUE INDEX admin_pmc_payment_type_info_pmc_idx ON admin_pmc_payment_type_info (pmc);
CREATE INDEX pad_batch_pad_file_idx ON pad_batch (pad_file);
CREATE INDEX pad_debit_record_pad_batch_idx ON pad_debit_record (pad_batch);
CREATE INDEX pad_reconciliation_debit_record_reconciliation_summary_idx ON pad_reconciliation_debit_record (reconciliation_summary);
CREATE INDEX pad_reconciliation_summary_reconciliation_file_idx ON pad_reconciliation_summary (reconciliation_file);
CREATE INDEX pad_sim_batch_pad_file_idx ON pad_sim_batch (pad_file);
